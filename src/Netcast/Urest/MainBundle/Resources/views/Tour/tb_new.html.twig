{% extends "NetcastUrestMainBundle::base.html.twig" %}
{% block pageCss %}
    {% stylesheets filter='cssrewrite'
    'bundles/netcasturestmain/css/builder.css'
    %}
    <link rel="stylesheet" href="{{ asset_url }}" />
    {% endstylesheets %}
{% endblock pageCss %}
{% block content %}
    <div class="main-wrapper" id="builder">
        <div class="container">
            {% verbatim %}
            <div class="row">
                <div class="col-md-12" v-show="showTourInfo">

                </div>
            </div>
            <div class="row" v-show="showFilters">
                <div class="col-md-4">
                    <span id="aCountry"></span>
                    <input type="text" class="form-control" v-model="cityAutoComplete" placeholder="Город" id="jsCity" />
                    <input type="hidden" :value="filter.city" >
                </div>
                <div class="col-md-4">
                    <input placeholder="Цена от" class="form-control" v-model="filter.priceMin">
                </div>
                <div class="col-md-4">
                    <input placeholder="Цена до" class="form-control" v-model="filter.priceMax">
                </div>
            </div>
            <div class="row" v-show="showFilters">
                <div class="col-md-4">
                    <label v-for="option in types">
                        <input type="radio"  v-bind:value="option.value" v-model="filter.type">
                        {{ option.text }}
                    </label>
                </div>
                <div class="col-md-4">
                    <div v-show="showStars">
                        <span v-on:click="starsFilter(1)" data-value="1" style="margin-left: 5px; cursor: pointer">1</span>
                        <span v-on:click="starsFilter(2)" data-value="2" style="margin-left: 5px; cursor: pointer">2</span>
                        <span v-on:click="starsFilter(3)" data-value="3" style="margin-left: 5px; cursor: pointer">3</span>
                        <span v-on:click="starsFilter(4)" data-value="4" style="margin-left: 5px; cursor: pointer">4</span>
                        <span v-on:click="starsFilter(5)" data-value="5" style="margin-left: 5px; cursor: pointer">5</span>
                    </div>
                </div>
                <div class="col-md-4">
                    <div v-show="showApFilter">
                        <select v-model="filter.apType" class="nostyle">
                            <option v-for="option in apTypes" v-bind:value="option.id">{{option.title}}</option>
                        </select>
                        <select v-model="filter.apRooms" class="nostyle">
                            <option v-for="(option,key) in apRooms" v-bind:value="key">{{option}}</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="row" v-show="showItems">
                <div class="col-sm-12 no-padd" >
                        <div v-for="item in items" class="bItem" style="width: 250px; display: inline-block; padding: 10px; border: grey 1px solid">
                            <img style="width: 100%" :src="item.image">
                            <p>
                                {{ item.title }}
                            </p>
                            <p v-html="item.priceStr">

                            </p>
                        </div>
                    <div style="clear: both"></div>
                </div>
            </div>
            {% endverbatim %}
        </div>
    </div>


{% endblock content %}



{% block pageScripts %}
    {% javascripts
    '@NetcastUrestMainBundle/Resources/public/js/vue.js'
    '@NetcastUrestMainBundle/Resources/public/js/tourBuilderNew.js'
    %}
    <script type="text/javascript" src="{{ asset_url }}"></script>
    {% endjavascripts %}
    <script type="text/javascript">
        var TourBuilder = new TourBuilder({
            acPath: '{{ path('netcast_urest_city_list') }}',
            types: {{ itemTypes|json_encode|raw }},
            apTypes: {{ apTypes|json_encode|raw }}
        },{{ items|json_encode|raw }});
    </script>
{% endblock pageScripts %}